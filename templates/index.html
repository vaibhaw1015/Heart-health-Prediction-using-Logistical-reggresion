<!DOCTYPE html>
<html>
<head>
<title>Heart Disease Prediction</title>
<link rel="stylesheet"
href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">

<div class="container mt-5">
<div class="card p-4 shadow">
<h2 class="text-center text-primary mb-4">Heart Disease Prediction</h2>

<form id="form">
<div class="row">
<div class="col-md-4">Age <input id="age" class="form-control" required></div>
<div class="col-md-4">
Sex
<select id="sex" class="form-control">
<option value="0">Female</option>
<option value="1">Male</option>
</select>
</div>
<div class="col-md-4">Chest Pain <input id="cp" class="form-control" required></div>
</div>

<div class="row mt-3">
<div class="col-md-4">BP <input id="trestbps" class="form-control" required></div>
<div class="col-md-4">Cholesterol <input id="chol" class="form-control" required></div>
<div class="col-md-4">
FBS
<select id="fbs" class="form-control">
<option value="0">False</option>
<option value="1">True</option>
</select>
</div>
</div>

<div class="row mt-3">
<div class="col-md-4">ECG <input id="restecg" class="form-control" required></div>
<div class="col-md-4">Max HR <input id="thalch" class="form-control" required></div>
<div class="col-md-4">
Exang
<select id="exang" class="form-control">
<option value="0">No</option>
<option value="1">Yes</option>
</select>
</div>
</div>

<div class="row mt-3">
<div class="col-md-3">Oldpeak <input id="oldpeak" class="form-control" required></div>
<div class="col-md-3">Slope <input id="slope" class="form-control" required></div>
<div class="col-md-3">CA <input id="ca" class="form-control" required></div>
<div class="col-md-3">Thal <input id="thal" class="form-control" required></div>
</div>

<button class="btn btn-primary w-100 mt-4">Predict</button>
</form>

<h3 class="text-center text-success mt-3" id="result"></h3>
</div>
</div>

<script>
document.getElementById("form").addEventListener("submit", async function(e){
e.preventDefault();

const features = [
document.getElementById("age").value,
document.getElementById("sex").value,
document.getElementById("cp").value,
document.getElementById("trestbps").value,
document.getElementById("chol").value,
document.getElementById("fbs").value,
document.getElementById("restecg").value,
document.getElementById("thalch").value,
document.getElementById("exang").value,
document.getElementById("oldpeak").value,
document.getElementById("slope").value,
document.getElementById("ca").value,
document.getElementById("thal").value
];

const res = await fetch("/predict", {
method: "POST",
headers: {"Content-Type":"application/json"},
body: JSON.stringify({features: features.map(Number)})
});

const data = await res.json();
document.getElementById("result").innerText = data.prediction || data.error;
});
</script>

</body>
</html>
